{"version":3,"sources":["routers/PublicRoute.js","hooks/useForm.js","helpers/fetch.js","types/types.js","actions/auth.js","components/auth/LoginScreen.js","helpers/prepareEvents.js","actions/events.js","components/ui/Navbar.js","components/ui/DeleteEventFab.js","actions/ui.js","components/ui/AddNewFab.js","components/calendar/CalendarEvent.js","components/calendar/CalendarModal.js","helpers/calendar-messages-es.js","components/calendar/CalendarScreen.js","routers/PrivateRoute.js","routers/AppRouter.js","reducers/uiReducer.js","reducers/calendarReducer.js","reducers/authReducer.js","reducers/rootReducer.js","store/store.js","CalendarApp.js","index.js"],"names":["PublicRoute","isAuthenticated","Component","component","rest","props","to","useForm","initialState","useState","values","setValues","reset","handleInputChange","target","name","value","baseURL","process","fetchWithoutToken","endpoint","data","method","url","fetch","headers","body","JSON","stringify","fetchWithToken","token","localStorage","getItem","types","checkingFinish","type","login","user","payload","logout","LoginScreen","dispatch","useDispatch","lEmail","lPassword","handleLoginInputChange","rEmail","rPassword1","rPassword2","rName","handleRegisterInputChange","className","onSubmit","e","email","password","preventDefault","trim","a","resp","json","ok","setItem","Date","getTime","uid","Swal","fire","msg","placeholder","onChange","prepareEvents","events","map","end","moment","toDate","start","eventAddNew","event","eventLoaded","eventClearActiveEvent","eventUpdated","eventDeleted","Navbar","useSelector","state","auth","onClick","clear","tpye","DeleteEventFab","getState","id","calendar","activeEvent","console","log","uiOpenModal","AddNewFab","CalendarEvent","title","customStyles","content","top","left","right","bottom","marginRight","transform","Modal","setAppElement","now","minutes","seconds","add","nowPlus1","clone","initiEvent","notes","CalendarModal","modalOpen","ui","dateStart","setDateStart","dateEnd","setDateEnd","titleValid","setTitleValid","formValues","setFormValues","useEffect","v","closeModal","isOpen","onRequestClose","style","closeTimeoutMS","overlayClassName","momentStart","momentEnd","isSameOrAfter","length","eventDB","_id","eventStartAddNew","minDate","autoComplete","rows","messages","allDay","previous","next","today","month","week","day","agenda","date","time","noEventsInRange","showMore","total","locale","localizer","momentLocalizer","CalendarScreen","lastView","setLastView","startAccessor","endAccessor","eventPropGetter","isSelected","backgroundColor","borderRadius","color","display","opacity","onDoubleClickEvent","onSelectEvent","eventSetActive","onSelectSlot","selectable","onView","view","components","PrivateRoute","AppRouter","checking","exact","path","rootReducer","combineReducers","action","filter","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","CalendarApp","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b4cebe4c.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Route } from 'react-router-dom';\r\n\r\nconst PublicRoute = ({\r\n  isAuthenticated,\r\n  component: Component,\r\n  ...rest\r\n}) => {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      component={props => (\r\n        (isAuthenticated)\r\n          ? <Redirect to=\"/\" />\r\n          : <Component {...props} />\r\n      )}\r\n    />\r\n  );\r\n};\r\n\r\nPublicRoute.propTypes = {\r\n  isAuthenticated: PropTypes.bool.isRequired,\r\n  component: PropTypes.func.isRequired\r\n}\r\n\r\nexport default PublicRoute;","import { useState } from 'react';\r\n\r\nexport const useForm = (initialState = {}) => {\r\n\r\n  const [values, setValues] = useState(initialState);\r\n\r\n  const reset = () => {\r\n    setValues(initialState);\r\n  }\r\n\r\n  const handleInputChange = ({ target }) => {\r\n\r\n    setValues({\r\n      ...values,\r\n      [target.name]: target.value\r\n    });\r\n\r\n  }\r\n\r\n  return [values, handleInputChange, reset];\r\n}","const baseURL = process.env.REACT_APP_API_URL;\r\n\r\nconst fetchWithoutToken = (endpoint, data, method = 'GET') => {\r\n\r\n  const url = `${baseURL}/${endpoint}`;\r\n\r\n  if (method === 'GET') {\r\n    return fetch(url);\r\n  } else {\r\n    return fetch(url, {\r\n      method,\r\n      headers: {\r\n        'Content-type': 'application/json'\r\n      },\r\n      body: JSON.stringify(data)\r\n    });\r\n  }\r\n\r\n}\r\n\r\nconst fetchWithToken = (endpoint, data, method = 'GET') => {\r\n\r\n  const url = `${baseURL}/${endpoint}`;\r\n  const token = localStorage.getItem('token') || '';\r\n\r\n  if (method === 'GET') {\r\n    return fetch(url, {\r\n      method,\r\n      headers: {\r\n        'x-token': token\r\n      }\r\n    });\r\n  } else {\r\n    return fetch(url, {\r\n      method,\r\n      headers: {\r\n        'Content-type': 'application/json',\r\n        'x-token': token\r\n      },\r\n      body: JSON.stringify(data)\r\n    });\r\n  }\r\n\r\n}\r\n\r\nexport {\r\n  fetchWithoutToken,\r\n  fetchWithToken\r\n}","export const types = {\r\n  uiOpenModal: '[ui] Open modal',\r\n  uiCloseModal: '[ui] Close modal',\r\n\r\n  eventSetActive: '[event] Set active',\r\n  eventLogout: '[event] Event logout',\r\n\r\n  eventStartAddNew: '[event] Start add new',\r\n  eventAddNew: '[event] Add new',\r\n  eventClearActiveEvent: '[event] Clear active event',\r\n  eventUpdated: '[event] Event updated',\r\n  eventDeleted: '[event] Event deleted',\r\n  eventLoaded: '[event] Events loaded',\r\n\r\n  authCheckingFinish: '[auth] Finish checking login state',\r\n  authStartLogin: '[auth] Start login',\r\n  authLogin: '[auth] Login',\r\n  authStartRegister: '[auth] Start register',\r\n  authStartTokenRenew: '[auth] Start token renew',\r\n  authLogout: '[auth] Logout'\r\n}","import Swal from \"sweetalert2\";\r\n\r\nimport { fetchWithoutToken, fetchWithToken } from \"../helpers/fetch\";\r\nimport { types } from \"../types/types\";\r\n\r\nexport const startLogin = (email, password) => async dispatch => {\r\n\r\n  const resp = await fetchWithoutToken('auth', { email, password }, 'POST');\r\n  const body = await resp.json();\r\n\r\n  if (body.ok) {\r\n\r\n    localStorage.setItem('token', body.token);\r\n    localStorage.setItem('token-init-date', new Date().getTime());\r\n\r\n    dispatch(login({\r\n      uid: body.uid,\r\n      name: body.name\r\n    }));\r\n\r\n  } else {\r\n\r\n    Swal.fire('Error', body.msg, 'error');\r\n\r\n  }\r\n\r\n}\r\n\r\nexport const startRegister = (email, password, name) => async dispatch => {\r\n\r\n  const resp = await fetchWithoutToken('auth/new', { email, password, name }, 'POST');\r\n  const body = await resp.json();\r\n\r\n  if (body.ok) {\r\n\r\n    localStorage.setItem('token', body.token);\r\n    localStorage.setItem('token-init-date', new Date().getTime());\r\n\r\n    dispatch(login({\r\n      uid: body.uid,\r\n      name: body.name\r\n    }));\r\n\r\n  } else {\r\n\r\n    Swal.fire('Error', body.msg, 'error');\r\n\r\n  }\r\n\r\n}\r\n\r\nexport const startChecking = () => async dispatch => {\r\n\r\n  const resp = await fetchWithToken('auth/renew');\r\n  const body = await resp.json();\r\n\r\n  if (body.ok) {\r\n\r\n    localStorage.setItem('token', body.token);\r\n    localStorage.setItem('token-init-date', new Date().getTime());\r\n\r\n    dispatch(login({\r\n      uid: body.uid,\r\n      name: body.name\r\n    }));\r\n\r\n  } else {\r\n\r\n    dispatch(checkingFinish());\r\n\r\n  }\r\n\r\n}\r\n\r\nexport const startLogout = () => dispatch => {\r\n\r\n  localStorage.clear()\r\n\r\n  dispatch(logout());\r\n\r\n}\r\n\r\nconst checkingFinish = () => ({\r\n  type: types.authCheckingFinish\r\n})\r\n\r\nconst login = user => ({\r\n  type: types.authLogin,\r\n  payload: user\r\n});\r\n\r\nconst logout = () => ({\r\n  type: types.authLogout\r\n});","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport { useForm } from '../../hooks/useForm';\r\nimport { startLogin, startRegister } from '../../actions/auth';\r\n\r\nimport './login.css';\r\n\r\nconst LoginScreen = () => {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    // Login Form\r\n    const [\r\n        { lEmail, lPassword },\r\n        handleLoginInputChange\r\n    ] = useForm({\r\n        lEmail: '',\r\n        lPassword: ''\r\n    });\r\n\r\n    const handleLogin = e => {\r\n\r\n        e.preventDefault();\r\n\r\n        if (!lEmail.trim()) return;\r\n        if (!lPassword.trim()) return;\r\n\r\n        dispatch(startLogin(lEmail.trim(), lPassword.trim()));\r\n    }\r\n\r\n    // Register form\r\n    const [\r\n        { rEmail, rPassword1, rPassword2, rName },\r\n        handleRegisterInputChange\r\n    ] = useForm({\r\n        rEmail: '',\r\n        rPassword1: '',\r\n        rPassword2: '',\r\n        rName: ''\r\n    });\r\n\r\n    const handleRegister = e => {\r\n\r\n        e.preventDefault();\r\n\r\n        if (!rName.trim()) return;\r\n        if (!rEmail.trim()) return;\r\n\r\n        if (rPassword1 !== rPassword2) return Swal.fire('Error', 'Las contraseñas no son iguales', 'error');\r\n\r\n        dispatch(startRegister(rEmail.trim(), rPassword1.trim(), rName.trim()));\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"container login-container\">\r\n            <div className=\"row\">\r\n                <div className=\"col-md-6 login-form-1\">\r\n                    <h3>Ingreso</h3>\r\n                    <form\r\n                        onSubmit={handleLogin}\r\n                    >\r\n                        <div className=\"form-group\">\r\n                            <input\r\n                                type=\"text\"\r\n                                className=\"form-control\"\r\n                                placeholder=\"Correo\"\r\n                                name=\"lEmail\"\r\n                                value={lEmail}\r\n                                onChange={handleLoginInputChange}\r\n                            />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <input\r\n                                type=\"password\"\r\n                                className=\"form-control\"\r\n                                placeholder=\"Contraseña\"\r\n                                name=\"lPassword\"\r\n                                value={lPassword}\r\n                                onChange={handleLoginInputChange}\r\n                            />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <input\r\n                                type=\"submit\"\r\n                                className=\"btnSubmit\"\r\n                                value=\"Login\"\r\n                            />\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n\r\n                <div className=\"col-md-6 login-form-2\">\r\n                    <h3>Registro</h3>\r\n                    <form\r\n                        onSubmit={handleRegister}\r\n                    >\r\n                        <div className=\"form-group\">\r\n                            <input\r\n                                type=\"text\"\r\n                                className=\"form-control\"\r\n                                placeholder=\"Nombre\"\r\n                                name=\"rName\"\r\n                                value={rName}\r\n                                onChange={handleRegisterInputChange}\r\n                            />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <input\r\n                                type=\"email\"\r\n                                className=\"form-control\"\r\n                                placeholder=\"Correo\"\r\n                                name=\"rEmail\"\r\n                                value={rEmail}\r\n                                onChange={handleRegisterInputChange}\r\n                            />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <input\r\n                                type=\"password\"\r\n                                className=\"form-control\"\r\n                                placeholder=\"Contraseña\"\r\n                                name=\"rPassword1\"\r\n                                value={rPassword1}\r\n                                onChange={handleRegisterInputChange}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <input\r\n                                type=\"password\"\r\n                                className=\"form-control\"\r\n                                placeholder=\"Repita la contraseña\"\r\n                                name=\"rPassword2\"\r\n                                value={rPassword2}\r\n                                onChange={handleRegisterInputChange}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <input\r\n                                type=\"submit\"\r\n                                className=\"btnSubmit\"\r\n                                value=\"Crear cuenta\" />\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LoginScreen;","import moment from 'moment';\r\n\r\nexport const prepareEvents = (events = []) => {\r\n\r\n  return events.map(e => ({\r\n    ...e,\r\n    end: moment(e.end).toDate(),\r\n    start: moment(e.start).toDate()\r\n  }));\r\n\r\n}","import Swal from \"sweetalert2\";\r\nimport { fetchWithToken } from \"../helpers/fetch\";\r\nimport { prepareEvents } from \"../helpers/prepareEvents\";\r\nimport { types } from \"../types/types\";\r\n\r\nexport const eventStartAddNew = event => async (dispatch, getState) => {\r\n\r\n  const { uid, name } = getState().auth;\r\n\r\n  try {\r\n\r\n    const resp = await fetchWithToken('events', event, 'POST');\r\n    const body = await resp.json();\r\n\r\n    if (body.ok) {\r\n\r\n      event.id = body.eventDB.id;\r\n      event.user = {\r\n        _id: uid,\r\n        name\r\n      };\r\n\r\n      dispatch(eventAddNew(event));\r\n\r\n    }\r\n\r\n  } catch (err) {\r\n\r\n    console.log(err);\r\n\r\n  }\r\n\r\n}\r\n\r\nexport const eventStartLoading = () => async dispatch => {\r\n\r\n  try {\r\n\r\n    const resp = await fetchWithToken('events');\r\n    const body = await resp.json();\r\n\r\n    const events = prepareEvents(body.events);\r\n\r\n    dispatch(eventLoaded(events));\r\n\r\n  } catch (err) {\r\n\r\n    console.log(err);\r\n\r\n  }\r\n\r\n}\r\n\r\nexport const eventStartUpdate = event => async dispatch => {\r\n\r\n  try {\r\n\r\n    const resp = await fetchWithToken(`events/${event.id}`, event, 'PUT');\r\n    const body = await resp.json();\r\n\r\n    console.log(body);\r\n\r\n    if (body.ok) {\r\n      dispatch(eventUpdated(event));\r\n    } else {\r\n      Swal.fire('Error', body.msg, 'error');\r\n    }\r\n\r\n  } catch (err) {\r\n\r\n    console.log(err);\r\n\r\n  }\r\n\r\n}\r\n\r\nexport const eventStartDelete = () => async (dispatch, getState) => {\r\n\r\n  const { id } = getState().calendar.activeEvent;\r\n\r\n  try {\r\n\r\n    const resp = await fetchWithToken(`events/${id}`, {}, 'DELETE');\r\n    const body = await resp.json();\r\n\r\n    if (body.ok) {\r\n\r\n      dispatch(eventDeleted());\r\n\r\n    } else {\r\n\r\n      Swal.fire('Error', body.msg, 'error');\r\n\r\n    }\r\n\r\n  } catch (err) {\r\n\r\n    console.log(err);\r\n\r\n  }\r\n\r\n}\r\n\r\nconst eventAddNew = event => ({\r\n  type: types.eventAddNew,\r\n  payload: event\r\n});\r\n\r\nconst eventLoaded = events => ({\r\n  type: types.eventLoaded,\r\n  payload: events\r\n});\r\n\r\nexport const eventSetActive = event => ({\r\n  type: types.eventSetActive,\r\n  payload: event\r\n});\r\n\r\nexport const eventClearActiveEvent = () => ({\r\n  type: types.eventClearActiveEvent\r\n});\r\n\r\nconst eventUpdated = event => ({\r\n  type: types.eventUpdated,\r\n  payload: event\r\n});\r\n\r\nconst eventDeleted = () => ({\r\n  type: types.eventDeleted\r\n});\r\n\r\nexport const eventLogout = () => ({\r\n  tpye: types.eventLogout\r\n});\r\n","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport { startLogout } from '../../actions/auth';\r\nimport { eventLogout } from '../../actions/events';\r\n\r\nconst Navbar = () => {\r\n\r\n    const dispatch = useDispatch();\r\n    const { name } = useSelector(state => state.auth);\r\n\r\n    const handleLogout = () => {\r\n        dispatch(startLogout());\r\n        dispatch(eventLogout());\r\n    }\r\n\r\n    return (\r\n        <div className=\"navbar navbar-dark bg-dark mb-4\">\r\n            <span className=\"navbar-brand\">\r\n                {name}\r\n            </span>\r\n\r\n            <button\r\n                className=\"btn btn-outline-danger\"\r\n                onClick={handleLogout}\r\n            >\r\n                <i className=\"fas fa-sign-out-alt\"></i>\r\n                <span> Salir</span>\r\n            </button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Navbar;","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nimport { eventStartDelete } from '../../actions/events';\r\n\r\nexport const DeleteEventFab = () => {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const handleClickDelete = () => {\r\n    dispatch(eventStartDelete());\r\n  }\r\n\r\n  return (\r\n    <button\r\n      className=\"btn btn-danger fab-danger\"\r\n      onClick={handleClickDelete}\r\n    >\r\n      <i className=\"fas fa-trash\"></i>\r\n      <span> Borrar Evento</span>\r\n    </button>\r\n  )\r\n}\r\n","import { types } from \"../types/types\";\r\n\r\nexport const uiOpenModal = () => ({ type: types.uiOpenModal });\r\nexport const uiCloseModal = () => ({ type: types.uiCloseModal });\r\n","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nimport { uiOpenModal } from '../../actions/ui';\r\n\r\nexport const AddNewFab = () => {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const handleClickNew = () => dispatch(uiOpenModal());\r\n\r\n  return (\r\n    <button\r\n      className=\"btn btn-primary fab\"\r\n      onClick={handleClickNew}\r\n    >\r\n      <i className=\"fas fa-plus\"></i>\r\n    </button>\r\n  )\r\n}\r\n","import React from 'react';\r\n\r\nconst CalendarEvent = ({ event }) => {\r\n\r\n    const { title, user } = event;\r\n\r\n    return (\r\n        <div>\r\n            <strong>{title}</strong>\r\n            <span>- {user.name}</span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CalendarEvent;","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport moment from 'moment';\r\nimport Modal from 'react-modal';\r\nimport DateTimePicker from 'react-datetime-picker';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport { eventClearActiveEvent, eventStartAddNew, eventStartUpdate } from '../../actions/events';\r\nimport { uiCloseModal } from '../../actions/ui';\r\n\r\nconst customStyles = {\r\n\tcontent: {\r\n\t\ttop: '50%',\r\n\t\tleft: '50%',\r\n\t\tright: 'auto',\r\n\t\tbottom: 'auto',\r\n\t\tmarginRight: '-50%',\r\n\t\ttransform: 'translate(-50%, -50%)'\r\n\t}\r\n};\r\n\r\nModal.setAppElement('#root');\r\n\r\nconst now = moment().minutes(0).seconds(0).add(1, 'hours'),\r\n\tnowPlus1 = now.clone().add(1, 'hours');\r\n\r\nconst initiEvent = {\r\n\ttitle: '',\r\n\tnotes: '',\r\n\tstart: now.toDate(),\r\n\tend: nowPlus1.toDate()\r\n}\r\n\r\nconst CalendarModal = () => {\r\n\r\n\tconst { modalOpen } = useSelector(state => state.ui);\r\n\tconst { activeEvent } = useSelector(state => state.calendar);\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst [dateStart, setDateStart] = useState(now.toDate());\r\n\tconst [dateEnd, setDateEnd] = useState(nowPlus1.toDate());\r\n\tconst [titleValid, setTitleValid] = useState(true);\r\n\r\n\tconst [formValues, setFormValues] = useState(initiEvent);\r\n\r\n\tconst { notes, title, start, end } = formValues;\r\n\r\n\tuseEffect(() => {\r\n\r\n\t\tif (activeEvent) {\r\n\t\t\tsetFormValues(activeEvent);\r\n\t\t\tsetDateStart(activeEvent.start);\r\n\t\t\tsetDateEnd(activeEvent.end);\r\n\t\t} else {\r\n\t\t\tsetFormValues(initiEvent);\r\n\t\t}\r\n\r\n\t}, [activeEvent, setFormValues]);\r\n\r\n\tconst handleInputChange = ({ target }) => setFormValues(v => ({\r\n\t\t...v,\r\n\t\t[target.name]: target.value\r\n\t}));\r\n\r\n\tconst handleStartDateChange = start => {\r\n\r\n\t\tsetDateStart(start);\r\n\r\n\t\tsetFormValues(v => ({\r\n\t\t\t...v,\r\n\t\t\tstart\r\n\t\t}));\r\n\t}\r\n\r\n\tconst handleEndDateChange = end => {\r\n\r\n\t\tsetDateEnd(end);\r\n\r\n\t\tsetFormValues(v => ({\r\n\t\t\t...v,\r\n\t\t\tend\r\n\t\t}));\r\n\t}\r\n\r\n\tconst handleSubmitForm = e => {\r\n\t\te.preventDefault();\r\n\r\n\t\tconst momentStart = moment(start),\r\n\t\t\tmomentEnd = moment(end);\r\n\r\n\t\tif (momentStart.isSameOrAfter(momentEnd))\r\n\t\t\treturn Swal.fire('Error', 'La fecha fin debe ser mayor a la fecha de inicio', 'error');\r\n\r\n\t\tif (title.length < 2)\r\n\t\t\treturn setTitleValid(false);\r\n\r\n\t\tsetTitleValid(true);\r\n\r\n\t\tif (activeEvent) {\r\n\t\t\tdispatch(eventStartUpdate(formValues));\r\n\t\t} else {\r\n\t\t\tdispatch(eventStartAddNew(formValues));\r\n\t\t}\r\n\r\n\t\tcloseModal();\r\n\t}\r\n\r\n\t// Se dispara cuando tocan fuera del modal\r\n\tconst closeModal = () => {\r\n\t\tdispatch(uiCloseModal());\r\n\t\tdispatch(eventClearActiveEvent());\r\n\t\tsetFormValues(initiEvent);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\tisOpen={modalOpen}\r\n\t\t\t// onAfterOpen={afterOpenModal}\r\n\t\t\tonRequestClose={closeModal}\r\n\t\t\tstyle={customStyles}\r\n\t\t\tcloseTimeoutMS={200}\r\n\t\t\tclassName=\"modal\"\r\n\t\t\toverlayClassName=\"modal-fondo\"\r\n\t\t>\r\n\t\t\t<h1>{(activeEvent) ? 'Editar Evento' : 'Nuevo evento'}</h1>\r\n\t\t\t<hr />\r\n\t\t\t<form\r\n\t\t\t\tclassName=\"container\"\r\n\t\t\t\tonSubmit={handleSubmitForm}\r\n\t\t\t>\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<label>Fecha y hora inicio</label>\r\n\t\t\t\t\t<DateTimePicker\r\n\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\tonChange={handleStartDateChange}\r\n\t\t\t\t\t\tvalue={dateStart}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<label>Fecha y hora fin</label>\r\n\t\t\t\t\t<DateTimePicker\r\n\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\tonChange={handleEndDateChange}\r\n\t\t\t\t\t\tminDate={dateStart}\r\n\t\t\t\t\t\tvalue={dateEnd}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<hr />\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<label>Titulo y notas</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tclassName={`form-control ${titleValid ? 'is-valid' : 'is-invalid'}`}\r\n\t\t\t\t\t\tplaceholder=\"Título del evento\"\r\n\t\t\t\t\t\tname=\"title\"\r\n\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t\tvalue={title}\r\n\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<small id=\"emailHelp\" className=\"form-text text-muted\">Una descripción corta</small>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\tplaceholder=\"Notas\"\r\n\t\t\t\t\t\trows=\"5\"\r\n\t\t\t\t\t\tname=\"notes\"\r\n\t\t\t\t\t\tvalue={notes}\r\n\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t></textarea>\r\n\t\t\t\t\t<small id=\"emailHelp\" className=\"form-text text-muted\">Información adicional</small>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<button\r\n\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\tclassName=\"btn btn-outline-primary btn-block\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<i className=\"far fa-save\"></i>\r\n\t\t\t\t\t<span> Guardar</span>\r\n\t\t\t\t</button>\r\n\t\t\t</form>\r\n\t\t</Modal>\r\n\t)\r\n}\r\n\r\nexport default CalendarModal;","export const messages = {\r\n    allDay: 'Todo el día',\r\n    previous: '<',\r\n    next: '>',\r\n    today: 'Hoy',\r\n    month: 'Mes',\r\n    week: 'Semana',\r\n    day: 'Día',\r\n    agenda: 'Agenda',\r\n    date: 'Fecha',\r\n    time: 'Hora',\r\n    event: 'Evento',\r\n    noEventsInRange: 'No hay eventos en este rango',\r\n    showMore: total => `+ Ver más (${total})`\r\n};","import React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport moment from 'moment';\r\nimport { Calendar, momentLocalizer } from 'react-big-calendar';\r\n\r\nimport Navbar from '../ui/Navbar';\r\nimport { DeleteEventFab } from '../ui/DeleteEventFab';\r\nimport { AddNewFab } from '../ui/AddNewFab';\r\nimport CalendarEvent from './CalendarEvent';\r\nimport CalendarModal from './CalendarModal';\r\nimport { messages } from '../../helpers/calendar-messages-es';\r\nimport { eventClearActiveEvent, eventSetActive, eventStartLoading } from '../../actions/events';\r\nimport { uiOpenModal } from '../../actions/ui';\r\n\r\nimport 'react-big-calendar/lib/css/react-big-calendar.css';\r\nimport 'moment/locale/es';\r\n\r\nmoment.locale('es');\r\n\r\nconst localizer = momentLocalizer(moment);\r\n\r\nconst CalendarScreen = () => {\r\n\r\n\tconst dispatch = useDispatch();\r\n\tconst { events, activeEvent } = useSelector(state => state.calendar);\r\n\tconst { uid } = useSelector(state => state.auth);\r\n\r\n\tconst [lastView, setLastView] = useState(localStorage.getItem('lastView') || 'month');\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(eventStartLoading());\r\n\t}, [dispatch]);\r\n\r\n\tconst onDoubleClick = e => {\r\n\t\tdispatch(uiOpenModal());\r\n\t}\r\n\r\n\tconst onSelectEvent = event => {\r\n\t\tdispatch(eventSetActive(event));\r\n\t}\r\n\r\n\tconst onViewChange = e => {\r\n\t\tsetLastView(e);\r\n\t\tlocalStorage.setItem('lastView', e);\r\n\t}\r\n\r\n\tconst onSelectSlot = () => {\r\n\t\tdispatch(eventClearActiveEvent());\r\n\t}\r\n\r\n\t// Configurar colores\r\n\tconst eventStyleGetter = (event, start, end, isSelected) => {\r\n\r\n\t\tconst style = {\r\n\t\t\tbackgroundColor: (uid === event.user._id) ? '#367CF7' : '#465660',\r\n\t\t\tborderRadius: '0px',\r\n\t\t\tcolor: 'white',\r\n\t\t\tdisplay: 'block',\r\n\t\t\topacity: 0.8\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tstyle\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"calendar-screen\">\r\n\t\t\t<Navbar />\r\n\r\n\t\t\t<Calendar\r\n\t\t\t\tlocalizer={localizer}\r\n\t\t\t\tevents={events}\r\n\t\t\t\tstartAccessor=\"start\"\r\n\t\t\t\tendAccessor=\"end\"\r\n\t\t\t\tmessages={messages}\r\n\t\t\t\teventPropGetter={eventStyleGetter}\r\n\t\t\t\tonDoubleClickEvent={onDoubleClick}\r\n\t\t\t\tonSelectEvent={onSelectEvent}\r\n\t\t\t\tonSelectSlot={onSelectSlot}\r\n\t\t\t\tselectable={true}\r\n\t\t\t\tonView={onViewChange}\r\n\t\t\t\tview={lastView}\r\n\t\t\t\tcomponents={{\r\n\t\t\t\t\tevent: CalendarEvent\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\r\n\t\t\t{ (activeEvent) && <DeleteEventFab />}\r\n\r\n\t\t\t<AddNewFab />\r\n\r\n\t\t\t<CalendarModal />\r\n\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default CalendarScreen;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Redirect, Route } from 'react-router-dom';\r\n\r\nconst PrivateRoute = ({\r\n  isAuthenticated,\r\n  component: Component,\r\n  ...rest\r\n}) => {\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      component={props => (\r\n        (isAuthenticated)\r\n          ? <Component {...props} />\r\n          : <Redirect to=\"/login\" />\r\n      )}\r\n    />\r\n  )\r\n}\r\n\r\nPrivateRoute.propTypes = {\r\n  isAuthenticated: PropTypes.bool.isRequired,\r\n  component: PropTypes.func.isRequired\r\n}\r\n\r\nexport default PrivateRoute;","import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    Redirect\r\n} from 'react-router-dom';\r\n\r\nimport PublicRoute from './PublicRoute';\r\nimport LoginScreen from '../components/auth/LoginScreen';\r\nimport CalendarScreen from '../components/calendar/CalendarScreen';\r\nimport { startChecking } from '../actions/auth';\r\nimport PrivateRoute from './PrivateRoute';\r\n\r\nconst AppRouter = () => {\r\n\r\n    const dispatch = useDispatch();\r\n    const { checking, uid } = useSelector(state => state.auth);\r\n\r\n    useEffect(() => {\r\n        dispatch(startChecking());\r\n    }, [dispatch]);\r\n\r\n    if (checking) return <h5>Espere...</h5>\r\n\r\n    return (\r\n        <Router>\r\n            <>\r\n                <Switch>\r\n                    <PrivateRoute\r\n                        exact\r\n                        path=\"/\"\r\n                        isAuthenticated={!!uid}\r\n                        component={CalendarScreen}\r\n                    />\r\n\r\n                    <PublicRoute\r\n                        exact\r\n                        path=\"/login\"\r\n                        isAuthenticated={!!uid}\r\n                        component={LoginScreen}\r\n                    />\r\n\r\n                    <Redirect to=\"/\" />\r\n                </Switch>\r\n            </>\r\n        </Router>\r\n    )\r\n}\r\n\r\nexport default AppRouter;","import { types } from \"../types/types\";\r\n\r\nconst initialState = {\r\n  modalOpen: false\r\n}\r\n\r\nexport const uiReducer = (state = initialState, action) => {\r\n\r\n  switch (action.type) {\r\n    case types.uiOpenModal:\r\n      return {\r\n        ...state,\r\n        modalOpen: true\r\n      }\r\n\r\n    case types.uiCloseModal:\r\n      return {\r\n        ...state,\r\n        modalOpen: false\r\n      }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n\r\n}","import { types } from '../types/types';\r\n\r\n// {\r\n//   id: new Date().getTime(),\r\n//   title: 'Cumpleaños del jefe',\r\n//   start: moment().toDate(),\r\n//   end: moment().add(2, 'hours').toDate(),\r\n//   notes: 'Comprar el pastel',\r\n//   user: {\r\n//     _id: '123',\r\n//     name: 'Paul'\r\n//   }\r\n// }\r\n\r\nconst initialState = {\r\n  events: [],\r\n  activeEvent: null\r\n};\r\n\r\nexport const calendarReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case types.eventSetActive:\r\n      return {\r\n        ...state,\r\n        activeEvent: action.payload\r\n      }\r\n\r\n    case types.eventAddNew:\r\n      return {\r\n        ...state,\r\n        events: [...state.events, action.payload]\r\n      }\r\n\r\n    case types.eventLoaded:\r\n      return {\r\n        ...state,\r\n        events: [...action.payload]\r\n      }\r\n\r\n    case types.eventClearActiveEvent:\r\n      return {\r\n        ...state,\r\n        activeEvent: null\r\n      }\r\n\r\n    case types.eventUpdated:\r\n      return {\r\n        ...state,\r\n        events: state.events.map(e => e.id === action.payload.id ? action.payload : e)\r\n      }\r\n\r\n    case types.eventDeleted:\r\n      return {\r\n        ...state,\r\n        events: state.events.filter(e => e.id !== state.activeEvent.id)\r\n      }\r\n\r\n    case types.eventLogout:\r\n      return {\r\n        ...initialState\r\n      }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}","import { types } from \"../types/types\";\r\n\r\nconst initialState = {\r\n  checking: true,\r\n  // uid: null,\r\n  // name: null\r\n}\r\n\r\nexport const authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n\r\n    case types.authLogin:\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n        checking: false\r\n      }\r\n    case types.authCheckingFinish:\r\n      return {\r\n        ...state,\r\n        checking: false\r\n      }\r\n\r\n    case types.authLogout:\r\n      return {\r\n        checking: false\r\n      }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}","import { combineReducers } from \"redux\";\r\n\r\nimport { uiReducer } from \"./uiReducer\";\r\nimport { calendarReducer } from './calendarReducer';\r\nimport { authReducer } from './authReducer';\r\n\r\nexport const rootReducer = combineReducers({\r\n  ui: uiReducer,\r\n  calendar: calendarReducer,\r\n  auth: authReducer\r\n});\r\n","import thunk from \"redux-thunk\";\r\nimport { createStore, compose, applyMiddleware } from \"redux\";\r\n\r\nimport { rootReducer } from \"../reducers/rootReducer\";\r\n\r\nconst composeEnhancers = (typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) || compose;\r\n\r\nexport const store = createStore(\r\n  rootReducer,\r\n  composeEnhancers(\r\n    applyMiddleware(thunk)\r\n  )\r\n);","import React from 'react';\r\nimport { Provider } from 'react-redux';\r\n\r\nimport AppRouter from './routers/AppRouter';\r\nimport { store } from './store/store';\r\n\r\nconst CalendarApp = () => {\r\n\r\n    return (\r\n        <Provider\r\n            store={store}\r\n        >\r\n            <AppRouter />\r\n        </Provider>\r\n    )\r\n\r\n}\r\n\r\nexport default CalendarApp;","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport CalendarApp from './CalendarApp';\n\nimport './styles.css';\n\nReactDOM.render(\n  <CalendarApp />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}